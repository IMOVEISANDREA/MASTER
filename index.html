<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#eab308">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Gest√£o Master">
    
    <title>GEST√ÉO MASTER - Andrea Macarron</title>

    <!-- PWA -->
    <script>
        (function() {
            const iconURL = "https://cdn-icons-png.flaticon.com/512/3079/3079645.png";
            const linkIcon = document.createElement('link');
            linkIcon.rel = 'icon';
            linkIcon.href = iconURL;
            document.head.appendChild(linkIcon);
            
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('./sw.js').catch(() => {});
                });
            }
        })();
    </script>

    <!-- CSS (Corre√ß√£o Visual Definitiva) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">

    <!-- React -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
      img { max-width: 100% !important; height: auto !important; display: block; }
      .logo-main { width: 80px !important; height: 80px !important; object-fit: contain; margin: 0 auto 1rem; }
      .logo-sidebar { width: 48px !important; height: 48px !important; object-fit: contain; }
      #root { min-height: 100vh; }
      .animate-fade-in { animation: fadeIn 0.4s ease-in-out; }
      @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>

<body>
    <div id="root"></div>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        
        const firebaseConfig = {
            apiKey: "AIzaSyDW9gF4k0e2XuMbcgKouyIUmo3uaUxLheE",
            authDomain: "gestaomaster-cc7a0.firebaseapp.com",
            projectId: "gestaomaster-cc7a0",
            storageBucket: "gestaomaster-cc7a0.firebasestorage.app",
            messagingSenderId: "61242084578",
            appId: "1:61242084578:web:e1f4fd6a1287bfd3b422bb"
        };

        if (typeof firebase !== 'undefined' && !firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
            firebase.firestore().enablePersistence({synchronizeTabs: true}).catch(() => {});
        }

        const Security = {
            encrypt: (data) => btoa(unescape(encodeURIComponent(JSON.stringify(data)))),
            decrypt: (data) => {
                try { return JSON.parse(decodeURIComponent(escape(atob(data)))); } 
                catch (e) { return data; }
            }
        };

        function App() {
            const [activeTab, setActiveTab] = React.useState('dashboard');
            const [user, setUser] = React.useState(null);
            const [isLogged, setIsLogged] = React.useState(false); 
            const [isRegistering, setIsRegistering] = React.useState(false);
            const [currentLogin, setCurrentLogin] = React.useState(''); 
            const [hasCredentials, setHasCredentials] = React.useState(true);
            const [showSafetyWarning, setShowSafetyWarning] = React.useState(true);
            
            const [userPixKey, setUserPixKey] = React.useState('');
            const [viewingRecibo, setViewingRecibo] = React.useState(null);

            // Estados de Dados
            const [imobiliariasList, setImobiliariasList] = React.useState([]);
            const [inquilinosList, setInquilinosList] = React.useState([]);
            const [imoveisList, setImoveisList] = React.useState([]);
            const [financeiroList, setFinanceiroList] = React.useState([]);
            const [contratosList, setContratosList] = React.useState([]);
            const [espoliosList, setEspoliosList] = React.useState([]);
            const [documentosList, setDocumentosList] = React.useState([]);
            const [pessoalTarefas, setPessoalTarefas] = React.useState([]);
            const [pessoalNotas, setPessoalNotas] = React.useState([]);
            const [pessoalAcessos, setPessoalAcessos] = React.useState([]);
            const [pessoalCompras, setPessoalCompras] = React.useState([]);
            const [pessoalAgenda, setPessoalAgenda] = React.useState([]);
            const [pessoalContatos, setPessoalContatos] = React.useState([]);

            const [editingId, setEditingId] = React.useState(null);
            const [editData, setEditData] = React.useState(null);
            const [viewingItem, setViewingItem] = React.useState(null);

            // COLE√á√ÉO ISOLADA POR LOGIN (Compat√≠vel com as novas Regras)
            const getIsolatedCollection = (name, loginOverride) => {
                if (!firebase.auth().currentUser) return null;
                const appId = 'gestaomaster-cc7a0';
                const identity = loginOverride || currentLogin;
                if (!identity) return null;
                
                // Agora acessamos diretamente a pasta do usu√°rio pelo nome do login
                return firebase.firestore()
                    .collection('artifacts')
                    .doc(appId)
                    .collection('users')
                    .doc(identity)
                    .collection(name);
            };

            const hardAppReset = async () => {
                if (confirm("Limpar cache e atualizar?")) {
                    if (window.caches) {
                        const names = await caches.keys();
                        await Promise.all(names.map(n => caches.delete(n)));
                    }
                    window.location.reload(true);
                }
            };

            const handleResetCredentials = async () => {
                if (confirm("‚ö†Ô∏è RESETAR CREDENCIAIS? Isso apagar√° o acesso atual.")) {
                    try {
                        const coll = getIsolatedCollection('config_seguranca');
                        if (coll) await coll.doc('status').delete();
                        alert("‚úÖ Resetado! Recarregando...");
                        window.location.reload();
                    } catch (e) { alert("Erro de permiss√£o. Verifique as Rules."); }
                }
            };

            // Auth An√¥nima Obrigat√≥ria
            React.useEffect(() => {
                const init = async () => {
                    if (!firebase.auth().currentUser) {
                        try { await firebase.auth().signInAnonymously(); } catch(e) {}
                    }
                };
                init();
                return firebase.auth().onAuthStateChanged(u => setUser(u));
            }, []);

            // Sync de Dados
            React.useEffect(() => {
                if (!isLogged || !currentLogin || !user) return;

                const dec = (snap) => snap.docs.map(d => ({ id: d.id, ...Security.decrypt(d.data().payload) }));
                
                const collections = [
                    { n: 'imobiliarias', s: setImobiliariasList },
                    { n: 'inquilinos', s: setInquilinosList },
                    { n: 'imoveis', s: setImoveisList },
                    { n: 'financeiro', s: setFinanceiroList },
                    { n: 'contratos', s: setContratosList },
                    { n: 'espolios', s: setEspoliosList },
                    { n: 'documentos', s: setDocumentosList },
                    { n: 'pessoal_tarefas', s: setPessoalTarefas },
                    { n: 'pessoal_notas', s: setPessoalNotas },
                    { n: 'pessoal_acessos', s: setPessoalAcessos },
                    { n: 'pessoal_compras', s: setPessoalCompras },
                    { n: 'pessoal_agenda', s: setPessoalAgenda },
                    { n: 'pessoal_contatos', s: setPessoalContatos }
                ];

                const unsubs = collections.map(c => {
                    const coll = getIsolatedCollection(c.n);
                    return coll ? coll.onSnapshot(s => c.s(dec(s)), e => console.log("Sync error:", e)) : null;
                }).filter(u => u);

                const conf = getIsolatedCollection('config_seguranca');
                if (conf) {
                    unsubs.push(conf.onSnapshot(s => {
                        setHasCredentials(!s.empty);
                        if (!s.empty) {
                            const d = s.docs[0].data();
                            if (d.pix) setUserPixKey(Security.decrypt(d.pix));
                        }
                    }));
                }

                return () => unsubs.forEach(u => u());
            }, [isLogged, currentLogin, user]);
            
            const [showRealEstateForm, setShowRealEstateForm] = React.useState(false);
            const [showTenantForm, setShowTenantForm] = React.useState(false);
            const [showPropertyForm, setShowPropertyForm] = React.useState(false);
            const [showFinanceForm, setShowFinanceForm] = React.useState(false);

            const startEditing = (item, openModalFn) => { setEditData(item); setEditingId(item.id); openModalFn(true); };
            const cancelEditing = (closeModalFn) => { setEditData(null); setEditingId(null); closeModalFn(false); };
            const deleteItem = async (collection, id) => { 
                const coll = getIsolatedCollection(collection);
                if (coll) await coll.doc(id).delete(); 
            };

            const MenuButton = ({ tab, icon, label }) => (
                React.createElement('button', {
                    onClick: () => setActiveTab(tab),
                    className: `flex items-center gap-3 px-4 py-3 rounded-xl transition-all text-sm whitespace-nowrap flex-shrink-0 ${activeTab === tab ? 'bg-yellow-500 text-black font-bold' : 'text-gray-400 hover:bg-gray-800'}`
                }, React.createElement('span', { className: 'text-lg' }, icon), React.createElement('span', null, label))
            );

            const FormInput = ({ label, type = "text", name, placeholder }) => (
                React.createElement('div', { className: 'mb-4' },
                    React.createElement('label', { className: 'block text-xs font-bold text-gray-700 mb-1 uppercase' }, label),
                    React.createElement('input', { 
                        type, name, placeholder,
                        defaultValue: editData ? editData[name] : '',
                        className: 'w-full px-4 py-3 border rounded-xl outline-none focus:ring-2 focus:ring-yellow-500'
                    })
                )
            );

            const handleSaveData = async (collectionName, closeCallback) => {
                const coll = getIsolatedCollection(collectionName);
                if (!coll) return;
                const inputs = document.querySelectorAll('input, select, textarea');
                const rawData = {};
                inputs.forEach(el => { if (el.name && el.value) rawData[el.name] = el.value; });
                const payload = Security.encrypt(rawData);
                
                try {
                    if (closeCallback) closeCallback(false);
                    if (editingId) await coll.doc(editingId).update({ payload });
                    else await coll.add({ payload, createdAt: new Date().toISOString() });
                    setEditData(null); setEditingId(null);
                } catch (e) { alert("Erro ao salvar. Verifique as Rules."); }
            };

            const handleSaveCredentials = async () => {
                const loginEl = document.getElementsByName('login_config')[0];
                const passEl = document.getElementsByName('senha_config')[0];
                const emailEl = document.getElementsByName('email_recuperacao')[0];

                if (!loginEl?.value || !passEl?.value) { alert('Defina login e senha.'); return; }

                if (!firebase.auth().currentUser) {
                    try { await firebase.auth().signInAnonymously(); } catch(e) { alert("Sem conex√£o."); return; }
                }

                const loginId = loginEl.value.trim().toLowerCase();
                const data = {
                    login: Security.encrypt(loginId),
                    pass: Security.encrypt(passEl.value),
                    recovery: Security.encrypt(emailEl?.value || ''),
                    status: 'registered',
                    date: new Date().toISOString()
                };

                try {
                    const coll = getIsolatedCollection('config_seguranca', loginId);
                    if (coll) {
                        await coll.doc('status').set(data);
                        setCurrentLogin(loginId);
                        setIsLogged(true);
                        alert('‚úÖ Configurado com sucesso!');
                    }
                } catch (e) { alert("Erro de permiss√£o. ATEN√á√ÉO: Atualize o arquivo 'firestore.rules' no console do Firebase."); }
            };

            if (!isLogged) {
                return React.createElement('div', { className: 'min-h-screen bg-gray-900 flex items-center justify-center p-4 animate-fade-in' },
                    React.createElement('div', { className: 'bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden' },
                        React.createElement('div', { className: 'bg-black p-8 text-center border-b-4 border-yellow-500' },
                            React.createElement('img', { src: 'https://cdn-icons-png.flaticon.com/512/3079/3079645.png', className: 'logo-main' }),
                            React.createElement('h1', { className: 'text-2xl font-black text-yellow-500 uppercase' }, 'GEST√ÉO MASTER'),
                            React.createElement('p', { className: 'text-yellow-600 text-xs font-bold' }, 'Controle Administrativo Profissional')
                        ),
                        React.createElement('div', { className: 'p-8 space-y-6' },
                            !isRegistering ? React.createElement(React.Fragment, null,
                                React.createElement('div', null, React.createElement('label', { className: 'block text-xs font-black uppercase mb-2' }, 'Usu√°rio'), React.createElement('input', { type: 'text', id: 'login_identity_input', className: 'w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-yellow-500' })),
                                React.createElement('div', null, React.createElement('label', { className: 'block text-xs font-black uppercase mb-2' }, 'Senha'), React.createElement('input', { type: 'password', id: 'login_password_input', className: 'w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-yellow-500' })),
                                React.createElement('button', { 
                                    onClick: async () => {
                                        const loginVal = document.getElementById('login_identity_input').value.trim().toLowerCase();
                                        const passVal = document.getElementById('login_password_input').value;
                                        if (!loginVal) { alert("Informe usu√°rio."); return; }
                                        
                                        if (!firebase.auth().currentUser) try { await firebase.auth().signInAnonymously(); } catch(e) {}

                                        try {
                                            const coll = getIsolatedCollection('config_seguranca', loginVal);
                                            const snap = coll ? await coll.doc('status').get() : null;
                                            if (snap && snap.exists) {
                                                if (passVal === Security.decrypt(snap.data().pass)) { setCurrentLogin(loginVal); setIsLogged(true); }
                                                else { alert("‚ùå Senha incorreta."); }
                                            } else { alert("‚ùå Usu√°rio n√£o encontrado."); }
                                        } catch (e) { alert("Erro de conex√£o. Verifique as regras do Firebase."); }
                                    },
                                    className: 'w-full bg-black text-yellow-500 py-4 rounded-2xl font-black uppercase shadow-xl hover:bg-gray-800 transition'
                                }, 'Entrar'),
                                React.createElement('button', { onClick: () => setIsRegistering(true), className: 'w-full text-gray-500 text-xs font-black uppercase hover:text-yellow-600 transition' }, 'PRIMEIRO ACESSO? CADASTRE-SE AQUI')
                            ) : React.createElement(React.Fragment, null,
                                React.createElement('div', { className: 'bg-yellow-50 p-4 rounded-2xl mb-4 border border-yellow-200 text-center text-xs font-bold text-yellow-800' }, 'Configura√ß√£o Inicial de Pasta Segura'),
                                React.createElement('div', { className: 'grid grid-cols-1 gap-4' },
                                    React.createElement('div', null, React.createElement('label', { className: 'block text-[10px] font-black uppercase mb-1' }, 'Novo Usu√°rio'), React.createElement('input', { name: 'login_config', className: 'w-full px-4 py-2 border rounded-lg' })),
                                    React.createElement('div', null, React.createElement('label', { className: 'block text-[10px] font-black uppercase mb-1' }, 'Nova Senha'), React.createElement('input', { type: 'password', name: 'senha_config', className: 'w-full px-4 py-2 border rounded-lg' })),
                                    React.createElement('div', null, React.createElement('label', { className: 'block text-[10px] font-black uppercase mb-1' }, 'E-mail Recupera√ß√£o'), React.createElement('input', { type: 'email', name: 'email_recuperacao', className: 'w-full px-4 py-2 border rounded-lg' }))
                                ),
                                React.createElement('button', { onClick: handleSaveCredentials, className: 'w-full bg-yellow-500 text-black py-4 rounded-2xl font-black uppercase mt-4 shadow-xl hover:bg-yellow-600 transition' }, 'CRIAR ACESSO'),
                                React.createElement('button', { onClick: () => setIsRegistering(false), className: 'w-full text-gray-500 text-xs font-black uppercase mt-2' }, 'VOLTAR')
                            )
                        ),
                        React.createElement('div', { className: 'p-8 bg-gray-50 text-center border-t border-gray-100' }, 
                            React.createElement('p', { className: 'text-[10px] text-gray-400 font-bold uppercase' }, 'DESENVOLVIDO POR ADRIANA MENDES DA CRUZ SOUSA / SOFTWARE GEST√ÉO')
                        )
                    )
                );
            }

            return React.createElement('div', { className: 'flex flex-col md:flex-row min-h-screen bg-gray-100' },
                React.createElement('div', { className: 'w-full md:w-64 bg-black sidebar no-print border-r-0 md:border-r-2 border-b-2 md:border-b-0 border-yellow-600 flex-shrink-0' },
                    React.createElement('div', { className: 'p-4 md:p-6' },
                    React.createElement('div', { className: 'mb-8 flex items-center justify-center md:block text-center' },
                        React.createElement('img', { src: 'https://cdn-icons-png.flaticon.com/512/3079/3079645.png', className: 'logo-sidebar mx-auto mb-3' }),
                        React.createElement('div', null, React.createElement('h1', { className: 'text-xl md:text-2xl font-bold text-yellow-500' }, 'GEST√ÉO MASTER'), React.createElement('p', { className: 'text-yellow-600 text-[10px] font-bold uppercase' }, 'Andrea Macarron'))
                    ),
                    React.createElement('nav', { className: 'flex overflow-x-auto gap-2 md:block md:space-y-2 pb-2 md:pb-0' },
                        React.createElement(MenuButton, { tab: 'dashboard', icon: 'üìä', label: 'Dashboard' }),
                        React.createElement(MenuButton, { tab: 'personal', icon: 'üë§', label: 'Pessoal' }),
                        React.createElement(MenuButton, { tab: 'realestate', icon: 'üè¢', label: 'Imobili√°rias' }),
                        React.createElement(MenuButton, { tab: 'tenants', icon: 'üë•', label: 'Inquilinos' }),
                        React.createElement(MenuButton, { tab: 'properties', icon: 'üè†', label: 'Im√≥veis' }),
                        React.createElement(MenuButton, { tab: 'finance', icon: 'üí∞', label: 'Financeiro' }),
                        React.createElement(MenuButton, { tab: 'config', icon: '‚öôÔ∏è', label: 'Configura√ß√µes' })
                    )
                    )
                ),
                React.createElement('div', { className: 'flex-1 p-4 md:p-8 overflow-auto h-[calc(100vh-140px)] md:h-auto' },
                    activeTab === 'dashboard' && React.createElement('div', { className: 'space-y-6 animate-fade-in' },
                        !hasCredentials && showSafetyWarning && React.createElement('div', { onClick: () => setShowSafetyWarning(false), className: 'bg-red-100 border-l-8 border-red-600 p-5 rounded-2xl shadow-md flex items-center gap-4 animate-bounce cursor-pointer' }, React.createElement('div', { className: 'text-3xl' }, '‚ö†Ô∏è'), React.createElement('div', null, React.createElement('p', { className: 'text-red-900 font-black uppercase text-sm' }, 'A√ß√£o Necess√°ria'), React.createElement('p', { className: 'text-red-700 text-xs font-semibold' }, 'Finalize sua configura√ß√£o em Configura√ß√µes.'))),
                        React.createElement('div', { className: 'text-3xl font-bold text-gray-800' }, 'Dashboard'),
                        React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6' },
                            React.createElement('div', { className: 'bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-2xl p-6 text-black shadow-lg' }, React.createElement('p', { className: 'text-yellow-900 text-xs font-bold uppercase' }, 'Total de Im√≥veis'), React.createElement('p', { className: 'text-4xl font-black mt-2' }, imoveisList.length)),
                            React.createElement('div', { className: 'bg-gradient-to-br from-gray-700 to-gray-900 rounded-2xl p-6 text-white shadow-lg' }, React.createElement('p', { className: 'text-gray-300 text-xs font-bold uppercase' }, 'Inquilinos Ativos'), React.createElement('p', { className: 'text-4xl font-black mt-2' }, inquilinosList.length)),
                            React.createElement('div', { className: 'bg-gradient-to-br from-yellow-600 to-yellow-700 rounded-2xl p-6 text-black shadow-lg' }, React.createElement('p', { className: 'text-yellow-900 text-xs font-bold uppercase' }, 'Receita Mensal'), React.createElement('p', { className: 'text-4xl font-black mt-2' }, `R$ ${financeiroList.filter(i => i.tipo === 'Receita (Entrada)').reduce((acc, curr) => acc + (parseFloat(curr.valor) || 0), 0).toFixed(2)}`)),
                            React.createElement('div', { className: 'bg-gradient-to-br from-gray-800 to-black rounded-2xl p-6 text-white shadow-lg border border-yellow-600' }, React.createElement('p', { className: 'text-yellow-50 text-xs font-bold uppercase' }, 'Esp√≥lios Ativos'), React.createElement('p', { className: 'text-4xl font-black mt-2 text-yellow-500' }, espoliosList.length))
                        ),
                        React.createElement('div', { className: 'bg-gradient-to-r from-blue-700 to-blue-500 rounded-3xl p-8 text-white shadow-2xl flex flex-col md:flex-row items-center justify-between gap-6' },
                            React.createElement('div', { className: 'flex items-center gap-5' }, React.createElement('div', { className: 'text-5xl' }, 'üÜò'), React.createElement('div', null, React.createElement('h4', { className: 'text-2xl font-black uppercase' }, 'Suporte T√©cnico'), React.createElement('p', { className: 'text-blue-100 opacity-90' }, 'Fale com Adriana Mendes da Cruz Sousa para assist√™ncia.'))),
                            React.createElement('button', { onClick: () => window.open('https://wa.me/5511932186193', '_blank'), className: 'bg-white text-blue-700 px-10 py-4 rounded-2xl font-black shadow-lg hover:bg-blue-50 transition transform hover:scale-105 uppercase text-sm' }, 'WHATSAPP')
                        )
                    ),
                    activeTab === 'config' && React.createElement('div', { className: 'space-y-6 animate-fade-in' },
                        React.createElement('div', { className: 'text-3xl font-bold text-gray-800' }, '‚öôÔ∏è Configura√ß√µes'),
                        React.createElement('div', { className: 'grid grid-cols-1 gap-6' },
                            React.createElement('div', { className: 'bg-white rounded-3xl shadow-xl p-8 border-t-4 border-yellow-600' },
                                React.createElement('h3', { className: 'text-xl font-black text-gray-800 uppercase mb-8' }, 'Alterar Credenciais de Acesso'),
                                React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-4 gap-6' },
                                    React.createElement('div', null, React.createElement('label', { className: 'block text-sm font-black uppercase mb-2' }, 'Novo Login'), React.createElement('input', { type: 'text', name: 'login_config', defaultValue: currentLogin, className: 'w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-yellow-500' })),
                                    React.createElement('div', null, React.createElement('label', { className: 'block text-sm font-black uppercase mb-2' }, 'Nova Senha'), React.createElement('input', { type: 'password', name: 'senha_config', className: 'w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-yellow-500' })),
                                    React.createElement('div', null, React.createElement('label', { className: 'block text-sm font-black uppercase mb-2' }, 'Recupera√ß√£o'), React.createElement('input', { type: 'email', name: 'email_recuperacao', className: 'w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-yellow-500' })),
                                    React.createElement('div', null, React.createElement('label', { className: 'block text-sm font-black uppercase mb-2 text-yellow-700' }, 'Chave PIX'), React.createElement('input', { type: 'text', name: 'pix_config', defaultValue: userPixKey, className: 'w-full px-4 py-3 border-2 rounded-xl outline-none focus:border-yellow-500 bg-yellow-50' }))
                                ),
                                React.createElement('button', { onClick: handleSaveCredentials, className: 'w-full bg-black text-yellow-500 py-4 rounded-2xl font-black uppercase mt-8 shadow-xl hover:bg-gray-800 transition' }, 'Salvar Altera√ß√µes')
                            ),
                            React.createElement('div', { className: 'bg-white rounded-3xl shadow-xl p-8 border-t-4 border-yellow-600' },
                                React.createElement('h3', { className: 'text-xl font-black text-gray-800 mb-6 uppercase' }, 'üõ†Ô∏è Manuten√ß√£o'),
                                React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-4' },
                                    React.createElement('button', { onClick: hardAppReset, className: 'w-full bg-gray-600 text-white px-4 py-5 rounded-2xl font-black text-sm hover:bg-gray-700 transition shadow-lg' }, 'üîÑ ATUALIZAR SISTEMA'),
                                    React.createElement('button', { onClick: handleResetCredentials, className: 'w-full bg-red-600 text-white px-4 py-5 rounded-2xl font-black text-sm hover:bg-red-700 transition shadow-lg' }, '‚ö†Ô∏è RESETAR PARA O CLIENTE')
                                )
                            )
                        )
                    ),
                    activeTab === 'realestate' && React.createElement('div', { className: 'space-y-6 animate-fade-in' }, 
                        React.createElement('div', { className: 'flex items-center justify-between' }, React.createElement('div', { className: 'text-3xl font-bold text-gray-800' }, 'üè¢ Imobili√°rias'), React.createElement('button', { onClick: () => setShowRealEstateForm(true), className: 'bg-yellow-500 text-black px-6 py-3 rounded-lg font-bold shadow-lg' }, '+ Nova Imobili√°ria')),
                        showRealEstateForm && React.createElement('div', { className: 'bg-white rounded-xl shadow-lg p-6 border-t-4 border-yellow-600 animate-fade-in' },
                            React.createElement('div', { className: 'flex items-center justify-between mb-6' }, React.createElement('h3', { className: 'text-2xl font-bold text-gray-800' }, editingId ? 'Editar Imobili√°ria' : 'Cadastrar Nova Imobili√°ria'), React.createElement('button', { onClick: () => cancelEditing(setShowRealEstateForm), className: 'text-gray-500 text-2xl font-bold' }, '√ó')),
                            React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-6' }, React.createElement(FormInput, { label: 'Nome da Imobili√°ria *', name: 'nome' })),
                            React.createElement('div', { className: 'flex gap-4 mt-6' }, React.createElement('button', { onClick: () => handleSaveData('imobiliarias', setShowRealEstateForm), className: 'bg-black text-yellow-500 px-6 py-3 rounded-lg font-bold shadow' }, 'Salvar'), React.createElement('button', { onClick: () => cancelEditing(setShowRealEstateForm), className: 'px-6 py-3 border rounded-lg' }, 'Cancelar'))
                        ),
                        React.createElement(DataList, { items: imobiliariasList, collection: 'imobiliarias', onEdit: (i) => startEditing(i, setShowRealEstateForm), renderItem: (i) => React.createElement('h4', { className: 'font-bold' }, i.nome) })
                    )
                )
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
      });
    </script>
</body>
</html>
